# exampleフォルダのファイルについて
exampleフォルダにいくつかサンプルを置きました。

## sosuu.lua / sosuu.bas
配列操作と簡単な整数演算の能力を見るために「エラトステネスのふるい」で素数を計算するプログラムをluaとX-BASICで組んでみました。
* lua : "lua -i sosuu.lua"などで起動して、"sosuu(170)"といった具合に使用します。指定した数字の二乗までふるいにかけます。配列pの宣言にlua-5.5.0のtable.create()を使用しています
*X-BASIC : BASICを起動後、"sosuu.bas"を起動して実行してください。行番号10のSと行番号30のpの配列要素数を変更することでもっと大きな数までふるいにかけられます。要素数がsの自乗になるように設定してください。メモリが足りない場合はBASIC.CNFの"FREE="の行を変更してメモリを確保してください。

## sp_demo0.lua
x68k.sp_def()でスプライトにパターンを設定するサンプルです。

## sp_demo1.lua
X-BASICに付属するスプライトパターンエディタ"DEFSPTOOL.BAS"で生成するスプライトデータ/パレットデータ定義プログラムを読み込んで利用するサンプルです。
"lua sp_demo1.lua"で実行すると、以下のような動きをします。
・"spdefdat.bas"に記述されたパターンデータを読み込んで設定する
・"spsetplt.bas"に設定されたパレットデータを読み込んで設定する
・BGをスクロールさせながらスプライトを動き回らせる。VSYNCを待って描画するのでCPUパワーが低い環境だと露骨に遅くなります。

## hat.bas / hat2.bas / hat3.bas / hat.lua / hat2.lua / hat3.lua
メキシカンハットを描画するプログラムをX-BASICとluaで用意しました。  
* hat : 普通にメキシカンハットを描きます  
* hat2 : 超越関数を使用している計算を先に実行してしまい、その後に描画します
* hat3 : 超越関数部分の計算をまとめて実施 → pset()以外の座標計算をまとめて実施 →pset() という流れで実行します
